<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>lemueIO SecMonitor</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="/assets/hfish-ui.1.2.12.css" />
    <style type="text/css">
        .main-loading-wrap {
            text-align: center;
            margin-top: 100px;
            color: rgba(17, 18, 34, 0.6);
            font-size: 12px;
        }

        .lds-dual-ring {
            display: inline-block;
            width: 30px;
            height: 30px;
            margin-bottom: 10px;
        }

        .lds-dual-ring:after {
            content: " ";
            display: block;
            width: 24px;
            height: 24px;
            margin: 8px;
            border-radius: 50%;
            border: 2px solid rgba(17, 18, 34, 0.8);
            border-color: rgba(17, 18, 34, 0.8) transparent rgba(17, 18, 34, 0.8) transparent;
            animation: lds-dual-ring 1.2s linear infinite;
            animation: lds-dual-ring 1.2s linear infinite;
        }

        @keyframes lds-dual-ring {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
    <!-- <link rel="stylesheet" href="/styles/index.css"> -->
    <script type="text/javascript">
        if (!('remove' in Element.prototype)) {
            Element.prototype.remove = function () {
                if (this.parentNode) {
                    this.parentNode.removeChild(this);
                }
            };
        }
    </script>
    <link rel="shortcut icon" href="/assets/favicon.ico">
</head>

<body>
    <div id="app">
        <div class="main-loading-wrap">
            <div class="spinner-wrapper">
                <div class="lds-dual-ring"></div>
                <div class="spinner-txt">加载中...</div>
            </div>
        </div>
    </div>
    <script>
        __REACT_DEVTOOLS_GLOBAL_HOOK__ = parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;
    </script>
    <script type="text/javascript" defer src="/assets/flags/svgxuse.min.js"></script>
    <script type="text/javascript" src="/assets/dllSelf.09a1636445d39f4f9ec3.js"></script>
    <script type="text/javascript" src="/assets/app.6539b5af.js"></script>
    <script>
        // Branding Configuration
        const BRAND_TITLE = "Honey Scan Active Defense";
        const LOGO_PATH = '/assets/logo_bear.png';

        const patchBrandingAggressive = () => {
            // 1. Title Replacement
            if (document.title !== "lemueIO SecMonitor") {
                document.title = "lemueIO SecMonitor";
            }

            // 2. Logo Replacement (Left Side - SVG Wrapper)
            const leftWrapper = document.querySelector('div[class*="left-wrapper"]');
            if (leftWrapper) {
                const svgs = leftWrapper.querySelectorAll('svg');
                svgs.forEach(svg => {
                    // Check if it's the Trident logo by content or context
                    if (svg.innerHTML.includes('#hfish') || svg.innerHTML.includes('hfish')) {
                        const container = svg.parentElement;
                        // Ensure we are targeted and don't wipe the form
                        if (container && !container.dataset.patched && !container.querySelector('input')) {
                            container.innerHTML = '';
                            const newLogo = document.createElement('img');
                            newLogo.src = LOGO_PATH;
                            newLogo.style.maxWidth = '100%'; // Fit container
                            newLogo.style.height = 'auto';
                            container.appendChild(newLogo);
                            container.dataset.patched = 'true';
                        }
                    }
                });
            }

            // 3. Text Logo Replacement (Right Side / Top)
            const rightWrapper = document.querySelector('div[class*="right-wrapper"]');
            if (rightWrapper) {
                const rightSvgs = rightWrapper.querySelectorAll('svg');
                rightSvgs.forEach(svg => {
                    if (svg.innerHTML.includes('hfish') || svg.innerHTML.includes('logo')) {
                        if (!svg.dataset.patched) {
                            const titleDiv = document.createElement('div');
                            titleDiv.innerText = BRAND_TITLE;
                            titleDiv.style.color = "#4ade80"; // Cyber Green
                            titleDiv.style.fontSize = "32px"; // Increased font size
                            titleDiv.style.fontWeight = "bold";
                            svg.replaceWith(titleDiv);
                            titleDiv.dataset.patched = 'true';
                        }
                    }
                });
            }

            // 4. General Text Replacement (Fallback)
            const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT);
            let node;
            while (node = walker.nextNode()) {
                if (node.nodeValue && (node.nodeValue.includes("HFish") || node.nodeValue.includes("Honeypot Platform") || node.nodeValue.includes("XX Company"))) {
                    node.nodeValue = node.nodeValue.replace(/HFish|XX Company/g, "lemueIO SecMonitor").replace(/Honeypot Platform/g, BRAND_TITLE);
                }
            }

            // 5. CSS Injection for persistence and Login Button
            if (!document.getElementById('branding-style')) {
                const style = document.createElement('style');
                style.id = 'branding-style';
                style.innerHTML = `
                  /* General Layout Fixes */
                  body {
                      margin: 0 !important;
                      padding: 0 !important;
                  }
                  
                  /* Header & Title Fixes */
                  .screen-header-left-title, .screen-title { 
                      visibility: hidden !important; 
                      position: relative !important;
                  }
                  /* Try to target the parent header to remove white background */
                  div[class*="screen-header"], div[class*="header-wrapper"] {
                      background: transparent !important;
                      box-shadow: none !important;
                      border: none !important;
                  }

                  .screen-header-left-title::after, .screen-title::after {
                      visibility: visible !important;
                      content: "${BRAND_TITLE}" !important;
                      position: absolute !important;
                      left: 0 !important;
                      top: -10px !important; 
                      color: #4ade80 !important; 
                      font-size: 42px !important; /* Larger font as requested */
                      font-weight: bold !important;
                      white-space: nowrap !important;
                      text-shadow: 0 0 10px rgba(74, 222, 128, 0.5); /* Glow effect */
                  }

                  /* Fix Title Spacing - Push Inputs Down */
                  div[class*="index-cssmodule__login-wrapper"] {
                      margin-top: 60px !important; /* Adjusted spacing */
                  }
                  
                  /* Login Button Green */
                  div[class*="index-cssmodule__btn"], button[class*="index-cssmodule__btn"], .el-button--primary {
                      background-color: #4ade80 !important;
                      border-color: #4ade80 !important;
                      color: #0f172a !important; 
                      font-weight: bold !important;
                  }
                  div[class*="index-cssmodule__btn"]:hover, button[class*="index-cssmodule__btn"]:hover, .el-button--primary:hover {
                      background-color: #22c55e !important;
                      border-color: #22c55e !important;
                  }
                  
                  /* Footer IPv6 Button Green */
                  .index-cssmodule__ipv6-1nOCE {
                      background-color: #4ade80 !important;
                      color: #ffffff !important; 
                      font-weight: bold !important; 
                      border-color: #4ade80 !important; 
                      border: 1px solid #4ade80 !important;
                  }

                  /* Fix JPG Logo Transparency & Size */
                  img[src*="logo_bear.png"] {
                      mix-blend-mode: screen !important;
                      width: 80% !important; 
                      max-width: 350px !important;
                      display: block;
                      margin: 0 auto;
                      padding: 10px !important; 
                      box-sizing: border-box !important;
                      aspect-ratio: 1 / 1 !important; /* Force Square */
                      object-fit: contain !important; /* Prevent Clipping */
                      height: auto !important;
                  }
                  
                  /* Custom Footer */
                  #lemue-footer {
                      position: fixed;
                      bottom: 10px;
                      width: 100%;
                      text-align: center;
                      color: rgba(255, 255, 255, 0.5);
                      font-size: 12px;
                      pointer-events: none;
                      z-index: 9999;
                  }

                  /* Top Right Link Bar */
                  #lemue-link-bar {
                      position: fixed;
                      top: 15px;
                      right: 20px;
                      display: flex;
                      gap: 15px;
                      z-index: 10000;
                      background: rgba(0, 0, 0, 0.2);
                      padding: 8px 15px;
                      border-radius: 20px;
                      backdrop-filter: blur(5px);
                  }
                  .lemue-link {
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      width: 24px;
                      height: 24px;
                      opacity: 0.7;
                      transition: opacity 0.2s;
                      color: #4ade80;
                  }
                  .lemue-link:hover {
                      opacity: 1;
                  }
                  .lemue-link svg {
                      width: 100%;
                      height: 100%;
                      fill: currentColor;
                  }
                  .lemue-link img {
                      width: 100%;
                      height: 100%;
                      border-radius: 50%;
                  }
            `;
                document.head.appendChild(style);
            }

            // 6. Inject Footer
            if (!document.getElementById('lemue-footer')) {
                const footer = document.createElement('div');
                footer.id = 'lemue-footer';
                footer.innerHTML = 'for you by lemue.org ♥️';
                document.body.appendChild(footer);
            }

            // 7. Inject Link Bar
            if (!document.getElementById('lemue-link-bar')) {
                const linkBar = document.createElement('div');
                linkBar.id = 'lemue-link-bar';

                // Links Config
                const links = [
                    {
                        href: 'https://github.com/derlemue/honey-scan',
                        icon: '<svg viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>',
                        title: 'GitHub'
                    },
                    {
                        href: '/feed/',
                        icon: '<svg viewBox="0 0 24 24"><path d="M6.18 15.64a2.18 2.18 0 0 1 2.18 2.18C8.36 19 7.38 20 6.18 20C5 20 4 19 4 17.82a2.18 2.18 0 0 1 2.18-2.18M4 4.44A15.56 15.56 0 0 1 19.56 20h-2.83A12.73 12.73 0 0 0 4 7.27V4.44m0 5.66a9.9 9.9 0 0 1 9.9 9.9h-2.83A7.07 7.07 0 0 0 4 12.93V10.1z"/></svg>',
                        title: 'Feed'
                    },
                    {
                        href: '/feed/banned_ips.txt',
                        icon: '<svg viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/></svg>',
                        title: 'Banned IPs'
                    },
                    {
                        href: 'https://lemue.org',
                        icon: '<img src="https://lemue.org/favicon.ico" alt="lemue.org" onerror="this.style.display=\'none\'">',
                        title: 'lemue.org'
                    }
                ];

                links.forEach(link => {
                    const a = document.createElement('a');
                    a.href = link.href;
                    a.className = 'lemue-link';
                    a.target = '_blank';
                    a.innerHTML = link.icon;
                    a.title = link.title;
                    linkBar.appendChild(a);
                });

                document.body.appendChild(linkBar);
            }

            // 8. Inject Favicons
            const addFavicon = (rel, href, sizes) => {
                let link = document.createElement('link');
                link.rel = rel;
                link.href = href;
                if (sizes) link.sizes = sizes;
                document.head.appendChild(link);
            };
            // Remove existing
            document.querySelectorAll('link[rel="shortcut icon"]').forEach(e => e.remove());

            addFavicon('icon', '/assets/favicon.ico');
            addFavicon('icon', '/assets/favicon-32x32.png', '32x32');
            addFavicon('icon', '/assets/favicon-16x16.png', '16x16');
            addFavicon('apple-touch-icon', '/assets/apple-touch-icon.png');
        };

        // Run aggressively
        patchBrandingAggressive();
        setInterval(patchBrandingAggressive, 200);
    </script>
</body>

</html>